-- MySQL Script generated by MySQL Workbench
-- Thu Sep 21 10:12:22 2023
-- Model: Sakila Full    Version: 2.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema venda_feliz
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `venda_feliz` DEFAULT CHARACTER SET utf8mb4 ;
USE `venda_feliz` ;

-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_avaliacao_produto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_avaliacao_produto` (
  `IdAvaliacao` INT UNSIGNED NOT NULL,
  `Usuario` VARCHAR(45) NULL DEFAULT NULL,
  `Descricao` VARCHAR(90) NULL DEFAULT NULL,
  `Nota` CHAR(1) NULL DEFAULT NULL,
  `Imagens_do_produto` VARCHAR(255) NULL DEFAULT NULL,
  `Data_de_avaliacao` DATETIME NULL DEFAULT NULL,
  `Recomendaria_o_produto` CHAR(1) NULL DEFAULT NULL,
  `Palavras_chaves_Tags` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`IdAvaliacao`))
ENGINE = InnoDB
AUTO_INCREMENT = 901
DEFAULT CHARACTER SET = utf8mb4;

-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_estoque`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_estoque` (
  `idEstoque` INT NOT NULL,
  `Quantidade` VARCHAR(45) NULL DEFAULT NULL,
  `Data_de_validade` DATETIME NULL DEFAULT NULL,
  `Lote` VARCHAR(20) NULL DEFAULT NULL,
  `Ultima_atualizacao` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`idEstoque`))
ENGINE = InnoDB
AUTO_INCREMENT = 1001
DEFAULT CHARACTER SET = utf8mb4;

-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_produto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_produto` (
  `idProduto` INT UNSIGNED NOT NULL,
  `Nome` VARCHAR(45) NULL DEFAULT NULL,
  `Descricao` VARCHAR(45) NULL DEFAULT NULL,
  `Valor` FLOAT NULL DEFAULT NULL,
  `Altura` FLOAT NULL DEFAULT NULL,
  `Largura` FLOAT NULL DEFAULT NULL,
  `Profundidade` FLOAT NULL DEFAULT NULL,
  `Peso` FLOAT NULL DEFAULT NULL,
  `Categoria` VARCHAR(45) NULL DEFAULT NULL,
  `Data_de_fabricacao` DATETIME NULL DEFAULT NULL,
  `Garantia` CHAR(1) NULL DEFAULT NULL,
  `Estado_do_produto` VARCHAR(45) NULL DEFAULT NULL,
  `tb_estoque_idEstoque` INT NOT NULL,
  PRIMARY KEY (`idProduto`, `tb_estoque_idEstoque`),
  INDEX `fk_tb_produto_tb_estoque1_idx` (`tb_estoque_idEstoque` ASC),
  CONSTRAINT `fk_tb_produto_tb_estoque1`
    FOREIGN KEY (`tb_estoque_idEstoque`)
    REFERENCES `venda_feliz`.`tb_estoque` (`idEstoque`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 1001
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_notafiscal`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_notafiscal` (
  `idTb_notafiscal` INT UNSIGNED NOT NULL,
  `Dia_realizado` DATETIME NULL DEFAULT NULL,
  `Valor_total` DECIMAL(65,2) NULL DEFAULT NULL,
  `Mes_de_referencia` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`idTb_notafiscal`))
ENGINE = InnoDB
AUTO_INCREMENT = 1001
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_forma_pagamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_forma_pagamento` (
  `IdPagamento` INT UNSIGNED NOT NULL,
  `Meio_selecionado` VARCHAR(45) NULL DEFAULT NULL,
  `Valor_total` DECIMAL(65,2) NULL DEFAULT NULL,
  `Valor_desconto` DECIMAL(65,2) NULL DEFAULT NULL,
  `Valor_do_Item` DECIMAL(65,2) NULL DEFAULT NULL,
  `Data_de_pagamento` DATETIME NULL DEFAULT NULL,
  `Qt_parcelas` VARCHAR(2) NULL DEFAULT NULL,
  `Valor_da_parcelas` DECIMAL(65,2) NULL DEFAULT NULL,
  `Status_de_pagemento` VARCHAR(45) NULL DEFAULT NULL,
  `Tipo_de_moeda` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`IdPagamento`))
ENGINE = InnoDB
AUTO_INCREMENT = 1001
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_contrato`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_contrato` (
  `Protocolo` INT UNSIGNED NOT NULL,
  `Data_de_inicio` DATETIME NULL DEFAULT NULL,
  `Data_de_termino` DATETIME NULL DEFAULT NULL,
  `Valor_de_contrato` DECIMAL(65,2) NULL DEFAULT NULL,
  `Tipo_de_contrato` VARCHAR(45) NULL DEFAULT NULL,
  `Status_do_contrato` VARCHAR(45) NULL DEFAULT NULL,
  `Data_de_renovacao` DATETIME NULL DEFAULT NULL,
  `Documentos_adicionais` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`Protocolo`))
ENGINE = InnoDB
AUTO_INCREMENT = 1001
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_pedidos_compras`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_pedidos_compras` (
  `Id_Pedidos` INT UNSIGNED NOT NULL,
  `Data_de_pedido` DATETIME NULL DEFAULT NULL,
  `Quantidade` VARCHAR(45) NULL DEFAULT NULL,
  `tb_contrato_Protocolo` INT UNSIGNED NOT NULL,
  `tb_produto_idProduto` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`Id_Pedidos`),
  INDEX `fk_tb_pedidos_compras_tb_contrato1_idx` (`tb_contrato_Protocolo` ASC),
  INDEX `fk_tb_pedidos_compras_tb_produto1_idx` (`tb_produto_idProduto` ASC),
  CONSTRAINT `fk_tb_pedidos_compras_tb_contrato1`
    FOREIGN KEY (`tb_contrato_Protocolo`)
    REFERENCES `venda_feliz`.`tb_contrato` (`Protocolo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_pedidos_compras_tb_produto1`
    FOREIGN KEY (`tb_produto_idProduto`)
    REFERENCES `venda_feliz`.`tb_produto` (`idProduto`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 1001
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_transportadora`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_transportadora` (
  `CNPJ_2` VARCHAR(14) NOT NULL,
  `Nome` VARCHAR(45) NULL DEFAULT NULL,
  `Estado` VARCHAR(45) NULL DEFAULT NULL,
  `Cidade` VARCHAR(45) NULL DEFAULT NULL,
  `Bairro` VARCHAR(45) NULL DEFAULT NULL,
  `Rua_e_numero` VARCHAR(45) NULL DEFAULT NULL,
  `Capacidade_de_entregas` VARCHAR(4) NULL DEFAULT NULL,
  `Historico_de_entregas` VARCHAR(5) NULL DEFAULT NULL,
  `Data_de_inicio` DATETIME NULL DEFAULT NULL,
  `Data_de_termino` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`CNPJ_2`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_entrega`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_entrega` (
  `Rastreamento` INT UNSIGNED NOT NULL,
  `Data_estimada` DATE NULL DEFAULT NULL,
  `Status_da_entrega` VARCHAR(45) NULL DEFAULT NULL,
  `Data_real_da_entrega` DATETIME NULL DEFAULT NULL,
  `Assinatura_do_recebedor` VARCHAR(45) NULL DEFAULT NULL,
  `Instrucoes_de_entrega` VARCHAR(60) NULL DEFAULT NULL,
  `Custo_de_entrega` DECIMAL(65,2) NULL DEFAULT NULL,
  `Nota_fiscal` VARCHAR(45) NULL DEFAULT NULL,
  `tb_transportadora_CNPJ_2` VARCHAR(14) NOT NULL,
  PRIMARY KEY (`Rastreamento`, `tb_transportadora_CNPJ_2`),
  INDEX `fk_tb_entrega_tb_transportadora1_idx` (`tb_transportadora_CNPJ_2` ASC),
  CONSTRAINT `fk_tb_entrega_tb_transportadora1`
    FOREIGN KEY (`tb_transportadora_CNPJ_2`)
    REFERENCES `venda_feliz`.`tb_transportadora` (`CNPJ_2`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 1001
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_caixa`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_caixa` (
  `idTb_caixa` INT UNSIGNED NOT NULL,
  `Valor_total_do_caixa` FLOAT NULL DEFAULT NULL,
  `Data_de_abertura` DATETIME NULL DEFAULT NULL,
  `Data_de_fechamento` DATETIME NULL DEFAULT NULL,
  `Saldo_inicial` FLOAT NULL DEFAULT NULL,
  `Saldo_final` FLOAT NULL DEFAULT NULL,
  `tb_notafiscal_idTb_notafiscal` INT UNSIGNED NOT NULL,
  `tb_forma_pagamento_IdPagamento` INT UNSIGNED NOT NULL,
  `tb_pedidos_compras_Id_Pedidos` INT UNSIGNED NOT NULL,
  `tb_entrega_Rastreamento` INT UNSIGNED NOT NULL,
  `tb_entrega_tb_transportadora_CNPJ_2` VARCHAR(14) NOT NULL,
  PRIMARY KEY (`idTb_caixa`, `tb_notafiscal_idTb_notafiscal`, `tb_forma_pagamento_IdPagamento`, `tb_pedidos_compras_Id_Pedidos`, `tb_entrega_Rastreamento`, `tb_entrega_tb_transportadora_CNPJ_2`),
  INDEX `fk_tb_caixa_tb_notafiscal1_idx` (`tb_notafiscal_idTb_notafiscal` ASC),
  INDEX `fk_tb_caixa_tb_forma_pagamento1_idx` (`tb_forma_pagamento_IdPagamento` ASC),
  INDEX `fk_tb_caixa_tb_pedidos_compras1_idx` (`tb_pedidos_compras_Id_Pedidos` ASC) ,
  INDEX `fk_tb_caixa_tb_entrega1_idx` (`tb_entrega_Rastreamento` ASC, `tb_entrega_tb_transportadora_CNPJ_2` ASC),
  CONSTRAINT `fk_tb_caixa_tb_notafiscal1`
    FOREIGN KEY (`tb_notafiscal_idTb_notafiscal`)
    REFERENCES `venda_feliz`.`tb_notafiscal` (`idTb_notafiscal`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_caixa_tb_forma_pagamento1`
    FOREIGN KEY (`tb_forma_pagamento_IdPagamento`)
    REFERENCES `venda_feliz`.`tb_forma_pagamento` (`IdPagamento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_caixa_tb_pedidos_compras1`
    FOREIGN KEY (`tb_pedidos_compras_Id_Pedidos`)
    REFERENCES `venda_feliz`.`tb_pedidos_compras` (`Id_Pedidos`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_caixa_tb_entrega1`
    FOREIGN KEY (`tb_entrega_Rastreamento` , `tb_entrega_tb_transportadora_CNPJ_2`)
    REFERENCES `venda_feliz`.`tb_entrega` (`Rastreamento` , `tb_transportadora_CNPJ_2`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 1001
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_secao`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_secao` (
  `idSecao` INT UNSIGNED NOT NULL,
  `Inicio_de_navegacao` DATETIME NULL DEFAULT NULL,
  `Termino_de_navegacao` DATETIME NULL DEFAULT NULL,
  `Dispositivo` VARCHAR(45) NULL DEFAULT NULL,
  `Acao_do_cliente` VARCHAR(45) NULL DEFAULT NULL,
  `Referencia` VARCHAR(45) NULL DEFAULT NULL,
  `Qt_paginas_visitadas` VARCHAR(4) NULL DEFAULT NULL,
  `Taxa_de_rejeicao` DECIMAL(65,0) NULL DEFAULT NULL,
  `Referencia_de_produtos` CHAR(1) NULL DEFAULT NULL,
  `Tempo_de_inatividade` TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (`idSecao`))
ENGINE = InnoDB
AUTO_INCREMENT = 1338
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_cliente`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_cliente` (
  `CPF` VARCHAR(11) NOT NULL,
  `Nome` VARCHAR(45) NULL DEFAULT NULL,
  `Sobrenome` VARCHAR(45) NULL DEFAULT NULL,
  `Email` VARCHAR(45) NULL DEFAULT NULL,
  `Numero_telefonico` VARCHAR(45) NULL DEFAULT NULL,
  `Estado` VARCHAR(45) NULL DEFAULT NULL,
  `Cidade` VARCHAR(45) NULL DEFAULT NULL,
  `Bairro` VARCHAR(45) NULL DEFAULT NULL,
  `Rua_e_numero` VARCHAR(45) NULL DEFAULT NULL,
  `Genero` VARCHAR(45) NULL DEFAULT NULL,
  `Usuario` VARCHAR(45) NULL DEFAULT NULL,
  `Data_de_nascimento` DATE NULL DEFAULT NULL,
  `Data_de_cadastro` DATETIME NULL DEFAULT NULL,
  `Status_da_conta` VARCHAR(45) NULL DEFAULT NULL,
  `Preferencia_de_comunicacao` VARCHAR(45) NULL DEFAULT NULL,
  `Pontos_de_fidelidade` DECIMAL(65,0) NULL DEFAULT NULL,
  `tb_secao_idSecao` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`CPF`, `tb_secao_idSecao`),
  INDEX `fk_tb_cliente_tb_secao_idx` (`tb_secao_idSecao` ASC),
  CONSTRAINT `fk_tb_cliente_tb_secao`
    FOREIGN KEY (`tb_secao_idSecao`)
    REFERENCES `venda_feliz`.`tb_secao` (`idSecao`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_marketing`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_marketing` (
  `idMarketing` INT UNSIGNED NOT NULL,
  `Valor_gasto` DECIMAL(65,2) NULL DEFAULT NULL,
  `Qt_de_anuncio` DECIMAL(65,0) NULL DEFAULT NULL,
  `Mes_de_referencia` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`idMarketing`))
ENGINE = InnoDB
AUTO_INCREMENT = 501
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_entrega_reversa`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_entrega_reversa` (
  `Protocolo` INT UNSIGNED NOT NULL,
  `Usuario` VARCHAR(45) NULL DEFAULT NULL,
  `Estado` VARCHAR(45) NULL DEFAULT NULL,
  `Cidade` VARCHAR(45) NULL DEFAULT NULL,
  `Bairro` VARCHAR(45) NULL DEFAULT NULL,
  `Rua_e_numero` VARCHAR(45) NULL DEFAULT NULL,
  `Numero_de_contato` VARCHAR(12) NULL DEFAULT NULL,
  `Email_para_contato` VARCHAR(45) NULL DEFAULT NULL,
  `Produtos_devolvidos` VARCHAR(45) NULL DEFAULT NULL,
  `Motivo_da_devolucao` VARCHAR(50) NULL DEFAULT NULL,
  `Imagens_produto` VARCHAR(255) NULL DEFAULT NULL,
  `Data_de_regristro` DATETIME NULL DEFAULT NULL,
  `Data_de_devolucao` DATETIME NULL DEFAULT NULL,
  `Status_da_devolucao` VARCHAR(45) NULL DEFAULT NULL,
  `Instrucoes_de_devolucao` VARCHAR(45) NULL DEFAULT NULL,
  `Assinatura_do_cliente` VARCHAR(45) NULL DEFAULT NULL,
  `Custo_de_devolucao` DECIMAL(65,2) NULL DEFAULT NULL,
  `Reposicao_pela_devolucao` CHAR(1) NULL DEFAULT NULL,
  PRIMARY KEY (`Protocolo`))
ENGINE = InnoDB
AUTO_INCREMENT = 101
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_consolida_negocio`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_consolida_negocio` (
  `IdConsolidacao` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `Data_de_consolidacao` DATETIME NULL DEFAULT NULL,
  `Descricao_de_consolidacao` VARCHAR(45) NULL DEFAULT NULL,
  `Dados_adicionais` VARCHAR(45) NULL DEFAULT NULL,
  `Total_do_pedido` DECIMAL(65,0) NULL DEFAULT NULL,
  `tb_marketing_idMarketing` INT UNSIGNED NOT NULL,
  `tb_avaliacao_produto_IdAvaliacao` INT UNSIGNED NOT NULL,
  `tb_entrega_reversa_Protocolo` INT UNSIGNED NOT NULL,
  `tb_pedidos_compras_Id_Pedidos` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`IdConsolidacao`, `tb_marketing_idMarketing`, `tb_avaliacao_produto_IdAvaliacao`, `tb_entrega_reversa_Protocolo`, `tb_pedidos_compras_Id_Pedidos`),
  INDEX `fk_tb_consolida_negocio_tb_marketing1_idx` (`tb_marketing_idMarketing` ASC) ,
  INDEX `fk_tb_consolida_negocio_tb_avaliacao_produto1_idx` (`tb_avaliacao_produto_IdAvaliacao` ASC) ,
  INDEX `fk_tb_consolida_negocio_tb_entrega_reversa1_idx` (`tb_entrega_reversa_Protocolo` ASC) ,
  INDEX `fk_tb_consolida_negocio_tb_pedidos_compras1_idx` (`tb_pedidos_compras_Id_Pedidos` ASC) ,
  CONSTRAINT `fk_tb_consolida_negocio_tb_marketing1`
    FOREIGN KEY (`tb_marketing_idMarketing`)
    REFERENCES `venda_feliz`.`tb_marketing` (`idMarketing`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_consolida_negocio_tb_avaliacao_produto1`
    FOREIGN KEY (`tb_avaliacao_produto_IdAvaliacao`)
    REFERENCES `venda_feliz`.`tb_avaliacao_produto` (`IdAvaliacao`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_consolida_negocio_tb_entrega_reversa1`
    FOREIGN KEY (`tb_entrega_reversa_Protocolo`)
    REFERENCES `venda_feliz`.`tb_entrega_reversa` (`Protocolo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_consolida_negocio_tb_pedidos_compras1`
    FOREIGN KEY (`tb_pedidos_compras_Id_Pedidos`)
    REFERENCES `venda_feliz`.`tb_pedidos_compras` (`Id_Pedidos`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 1001
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`tb_fornecedor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`tb_fornecedor` (
  `CNPJ` VARCHAR(14) NOT NULL,
  `Nome` VARCHAR(45) NULL DEFAULT NULL,
  `Numero_telefonico` VARCHAR(12) NULL DEFAULT NULL,
  `Email` VARCHAR(45) NULL DEFAULT NULL,
  `Estado` VARCHAR(45) NULL DEFAULT NULL,
  `Cidade` VARCHAR(45) NULL DEFAULT NULL,
  `Rua_e_numero` VARCHAR(45) NULL DEFAULT NULL,
  `Ramo` VARCHAR(45) NULL DEFAULT NULL,
  `Inicio_de_parceria` DATETIME NULL DEFAULT NULL,
  `Termino_de_parceria` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`CNPJ`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`Tb_Itensnocarrinho`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`Tb_Itensnocarrinho` (
  `tb_cliente_CPF` VARCHAR(11) NOT NULL,
  `tb_cliente_tb_secao_idSecao` INT UNSIGNED NOT NULL,
  `tb_pedidos_compras_Id_Pedidos` INT UNSIGNED NOT NULL,
  `Data_de_adicao` DATETIME NULL,
  `Qt_de_itens` DECIMAL(10, 0),
  `Desconto_ou_promocoes` CHAR(1) NULL,
  `Informacoes_adicionais` VARCHAR(45) NULL,
  `Abandono` CHAR(1) NULL,
  PRIMARY KEY (`tb_cliente_CPF`, `tb_cliente_tb_secao_idSecao`, `tb_pedidos_compras_Id_Pedidos`),
  INDEX `fk_tb_cliente_has_tb_pedidos_compras_tb_pedidos_compras1_idx` (`tb_pedidos_compras_Id_Pedidos` ASC),
  INDEX `fk_tb_cliente_has_tb_pedidos_compras_tb_cliente1_idx` (`tb_cliente_CPF` ASC, `tb_cliente_tb_secao_idSecao` ASC),
  CONSTRAINT `fk_tb_cliente_has_tb_pedidos_compras_tb_cliente1`
    FOREIGN KEY (`tb_cliente_CPF`, `tb_cliente_tb_secao_idSecao`)
    REFERENCES `venda_feliz`.`tb_cliente` (`CPF`, `tb_secao_idSecao`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_cliente_has_tb_pedidos_compras_tb_pedidos_compras1`
    FOREIGN KEY (`tb_pedidos_compras_Id_Pedidos`)
    REFERENCES `venda_feliz`.`tb_pedidos_compras` (`Id_Pedidos`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
);
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4;


-- -----------------------------------------------------
-- Table `venda_feliz`.`Tb_Itens`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`Tb_Itens` (
  `tb_fornecedor_CNPJ` VARCHAR(14) NOT NULL,
  `tb_produto_idProduto` INT UNSIGNED NOT NULL,
  `Duracao_de_garantia` VARCHAR(45) NULL,
  `Qt_no_estoque` VARCHAR(45) NULL,
  `Preco_de_compra` DECIMAL(65,2) NULL,

  `Data_de_inclusao` DATETIME NULL,
  `Informacoes_adicionais` VARCHAR(45) NULL,
  PRIMARY KEY (`tb_fornecedor_CNPJ`, `tb_produto_idProduto`),
  INDEX `fk_tb_fornecedor_has_tb_produto_tb_produto1_idx` (`tb_produto_idProduto` ASC) ,
  INDEX `fk_tb_fornecedor_has_tb_produto_tb_fornecedor1_idx` (`tb_fornecedor_CNPJ` ASC) ,
  CONSTRAINT `fk_tb_fornecedor_has_tb_produto_tb_fornecedor1`
    FOREIGN KEY (`tb_fornecedor_CNPJ`)
    REFERENCES `venda_feliz`.`tb_fornecedor` (`CNPJ`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tb_fornecedor_has_tb_produto_tb_produto1`
    FOREIGN KEY (`tb_produto_idProduto`)
    REFERENCES `venda_feliz`.`tb_produto` (`idProduto`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4;

USE `venda_feliz` ;

-- -----------------------------------------------------
-- Placeholder table for view `venda_feliz`.`view1`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`view1` (`id` INT);

-- -----------------------------------------------------
-- Placeholder table for view `venda_feliz`.`view2`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `venda_feliz`.`view2` (`id` INT);

-- -----------------------------------------------------
--  routine1
-- -----------------------------------------------------

DELIMITER $$
USE `venda_feliz`$$
$$

DELIMITER ;

-- -----------------------------------------------------
-- View `venda_feliz`.`view1`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `venda_feliz`.`view1`;
USE `venda_feliz`;


-- -----------------------------------------------------
-- View `venda_feliz`.`view2`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `venda_feliz`.`view2`;
USE `venda_feliz`;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
